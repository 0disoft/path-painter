# Node.js 25H1 핵심 변경사항

---

## 서론

Node.js v22는 2024년 10월 29일 'Jod'라는 코드명으로 **LTS(Long Term Support)** 버전으로 전환되었습니다. 이 버전은 2025년 10월까지 "Active LTS" 상태를 유지하며, 이후 2027년 4월까지 "Maintenance" 모드로 전환될 예정입니다. 이는 Node.js v22가 장기적인 안정성과 지원을 제공하는 핵심 버전임을 의미하며, 2025년 상반기 동안의 변경사항은 Node.js 생태계의 개발자와 운영팀에게 매우 중요한 의미를 가집니다.

2025년 상반기(1월~6월) 동안 Node.js v22 LTS는 여러 중요한 보안 업데이트와 함께 다양한 새로운 기능의 안정화, 개발자 경험 개선을 위한 API 추가, 그리고 일부 사용 패턴에 대한 Deprecation을 포함하며 지속적으로 발전했습니다. 이러한 변화는 단순한 버전 업그레이드를 넘어, 애플리케이션의 **성능**, **보안**, 그리고 개발 및 유지보수 **효율성**에 직접적인 영향을 미칩니다.

본 보고서는 2025년 상반기 Node.js v22 LTS의 모든 변경사항을 종합적으로 조사하고, 특히 코딩 구현 시 개발자에게 직접적인 영향을 미치는 핵심 변경사항들을 심층적으로 분석하는 것을 목표로 합니다. 주요 보안 취약점 및 패치, 새롭게 도입되거나 안정화된 기능 및 API 업데이트, 그리고 향후 코드 수정이 필요할 수 있는 Deprecation 사항들을 상세히 다룰 것입니다. 이를 통해 개발자들이 Node.js v22 LTS 환경에서 안전하고 효율적인 애플리케이션을 구축하고 유지보수하는 데 필요한 실질적인 정보를 제공하고자 합니다.

---

## Node.js v22 LTS 주요 릴리스 및 일정

2025년 상반기 동안 Node.js v22 LTS는 주로 보안 취약점 해결 및 기존 실험적 기능의 안정화, 그리고 새로운 기능 추가를 위한 마이너 업데이트를 꾸준히 진행했습니다. 이는 Node.js 프로젝트가 LTS 버전에 대한 안정성과 신뢰성 확보에 얼마나 집중하고 있는지를 보여줍니다.

### 2025년 상반기 릴리스 버전 요약

* **v22.13.1 (2025년 1월 21일/22일)**: 2025년 1월 21일 및 22일에 발표된 보안 릴리스에 맞춰 배포된 버전입니다. 이 업데이트는 다수의 고위험 및 중간 위험 보안 취약점, 예를 들어 **CVE-2025-23083 (Worker 권한 우회)**, **CVE-2025-23084 (Windows 환경 경로 탐색)**, **CVE-2025-23085 (HTTP/2 메모리 누수)**, 그리고 **CVE-2025-22150 (Undici 난수성 부족)** 등을 해결했습니다. 이는 Node.js v22 LTS의 초기 보안 안정성을 강화하는 데 중요한 역할을 했습니다.
* **v22.14.0 (2025년 2월 11일)**: 새로운 기능 및 API 개선 사항을 포함한 마이너 업데이트입니다. 이 버전에서는 **`node:module`**에 **`findPackageJSON`** 유틸리티가 추가되었고, **`ERR_UNSUPPORTED_TYPESCRIPT_SYNTAX`** 오류가 도입되어 TypeScript 관련 개발자 경험을 개선했습니다. 또한, **`process.ref()`** 및 **`process.unref()`** 메서드가 추가되었으며, **`test_runner`**에 **`TestContext.prototype.waitFor()`**, **`t.assert.fileSnapshot()`**, **`assert.register()`** API가 도입되어 테스트 작성의 유연성을 높였습니다.
* **v22.15.1 (2025년 5월 14일)**: 2025년 5월 14일에 발표된 보안 릴리스에 맞춰 배포된 버전입니다. 이 업데이트는 비동기 암호화 작업의 오류 처리 문제(**CVE-2025-23166**)와 **`ReadFileUtf8`** API의 메모리 누수(**CVE-2025-23165**) 등 고위험 및 저위험 취약점을 수정했습니다. 특히 Windows 환경에서 파일 읽기 작업 시 발생할 수 있는 서비스 거부 위험을 줄였습니다.
* **v22.16.0 (2025년 5월 21일)**: 추가적인 기능 개선 및 실험적 API 안정화가 이루어진 버전입니다. 이 버전에서는 **`import.meta`** 속성이 안정화되었고, **`package`** 타입 없이 **Top-level WebAssembly (Wasm)**가 지원되기 시작했습니다. 또한, **`node.config.json`**을 통한 설정 파일 지원이 추가되었으며, **`AsyncLocalStorage`** 컨텍스트가 **`finished()`**에서 보존되는 등 스트림 관련 개선이 있었습니다.
* **v22.17.0 (2025년 6월 24일)**: 2025년 상반기의 마지막 주요 업데이트로, 다수의 실험적 기능이 안정화되고, 새로운 기능이 추가되었으며, 일부 Deprecation 사항이 포함된 중요한 릴리스입니다. 이 버전에서는 **`fs.glob()`**, **`URL.createObjectURL()`**, **`Startup Snapshot API`** 등 수많은 API가 안정화되어 프로덕션 환경에서 더욱 안전하게 사용될 수 있게 되었습니다.

### LTS 상태 및 지원 기간

Node.js v22는 2024년 10월부터 **"Active LTS"** 상태로 전환되었으며, 이 상태는 2025년 10월까지 유지됩니다. 이후 2027년 4월까지는 **"Maintenance"** 모드로 전환되어 중요 보안 패치만 제공될 예정입니다. 이러한 LTS 일정은 개발팀이 애플리케이션의 장기적인 안정성을 계획하는 데 중요한 기준이 됩니다.

2025년 상반기 Node.js v22 LTS는 활발한 업데이트를 통해 안정성을 지속적으로 강화했습니다. 특히 많은 보안 패치와 실험적 기능의 안정화가 이루어졌습니다. 이러한 LTS 버전의 활발한 업데이트는 개발팀이 레거시 버전에서 벗어나 최신 안정화된 환경으로 마이그레이션할 수 있도록 유도하는 중요한 요소입니다. 예를 들어, Node.js v18과 같은 이전 LTS 버전은 2025년 4월에 EOL(End-Of-Life)이 되었으며, 이에 따라 Node.js v22로의 업그레이드가 강력히 권장됩니다. [Netlify와 같은 주요 플랫폼이 기본 Node.js 버전을 v18에서 v22로 업그레이드하는 결정을 내린 것](https://www.netlify.com/blog/netlify-node-js-18-eol-and-node-js-22-migration-guide)은 이러한 생태계 전반의 변화를 명확히 보여줍니다. 이는 단순한 기능 업데이트를 넘어, **보안 및 장기 유지보수 전략의 핵심적인 움직임**으로 해석될 수 있습니다. 개발팀은 단순히 최신 기능을 쫓기보다는, LTS 버전의 유지보수 일정을 면밀히 파악하고, EOL이 임박한 버전을 사용하는 경우 적극적으로 최신 LTS 버전(v22)으로 전환 계획을 수립해야 합니다. 이러한 전략적 접근은 애플리케이션의 보안 취약점을 줄이고, 장기적인 기술 부채를 예방하며, 최신 성능 및 개발자 경험 개선 사항을 활용하는 데 필수적입니다.

---

## 코딩 구현 관련 핵심 변경사항

2025년 상반기 Node.js v22 LTS는 개발자 생산성 향상, 성능 최적화, 그리고 모듈 시스템 및 웹 호환성 강화를 위한 다양한 새로운 기능과 API 업데이트를 도입하거나 기존 실험적 기능을 안정화했습니다. 동시에, 일부 사용 패턴에 대한 Deprecation을 통해 API 사용의 명확성과 일관성을 높이려는 노력을 보였습니다.

### 새로운 기능 및 API 업데이트

Node.js v22 LTS의 2025년 상반기 업데이트는 개발자들이 더욱 효율적이고 안전하게 애플리케이션을 구축할 수 있도록 지원하는 데 중점을 두었습니다.

#### V8 JavaScript 엔진 및 Maglev 컴파일러 개선

Node.js v22는 **V8 JavaScript 엔진 12.4 버전**을 포함하며, WebAssembly, Garbage Collection, Array.fromAsync, Set 메서드, 그리고 이터레이터 헬퍼와 같은 최신 JavaScript 기능을 제공합니다. 특히 **Maglev 컴파일러**가 지원되는 아키텍처에서 기본으로 활성화되어 단기 CLI 프로그램의 성능을 향상시킵니다. 이 컴파일러는 기존 Sparkplug와 Turbofan 컴파일러 사이에 위치하여, 전반적인 JavaScript 실행 성능을 끌어올리는 역할을 합니다. 개발자는 **`Array.fromAsync`**와 같은 새로운 언어 기능을 활용하여 비동기 데이터 처리를 더욱 효율적으로 구현할 수 있습니다. Maglev 컴파일러는 별도의 코드 변경 없이 애플리케이션의 시작 시간과 짧은 실행 시간의 스크립트에서 성능 이점을 제공합니다.

#### `require()` ESM 그래프 지원 및 모듈 시스템 관련 변경

Node.js v22는 `--experimental-require-module` 플래그를 통해 **`require()`**가 동기적으로 **ESM(ECMAScript Modules)**을 로드할 수 있도록 실험적 지원을 추가했습니다. 이는 **`package.json`**에 `"type": "module"`이 설정되었거나 `.mjs` 확장자를 가진 ESM이 동기적일 경우, **`require()`**가 해당 모듈을 ESM으로 처리하고 네임스페이스 객체를 반환하게 합니다. 장기적인 목표는 플래그 없이 `require(esm)`를 기본 동작으로 만드는 것입니다. 또한, **`node:module`**에 패키지 JSON 파일을 찾는 데 유용한 **`findPackageJSON`** 유틸리티가 추가되었으며, TypeScript 구문 관련 문제를 명확히 알리는 **`ERR_UNSUPPORTED_TYPESCRIPT_SYNTAX`** 오류 코드도 도입되었습니다.

Node.js는 오랫동안 CommonJS와 ESM이라는 두 가지 모듈 시스템을 병행해왔습니다. `--experimental-require-module` 플래그를 통한 `require()`의 ESM 로딩 지원은 이 두 시스템 간의 **상호 운용성**을 개선하려는 중요한 시도입니다. 동시에 `findPackageJSON`과 같은 유틸리티 추가 및 TypeScript 관련 오류 메시지 강화는 모듈 해결 및 타입 시스템 통합에 대한 Node.js 코어의 지속적인 노력을 보여줍니다. 이러한 변화는 Node.js 생태계가 CommonJS의 레거시를 유지하면서도 ESM의 현대적인 장점을 수용하고, TypeScript와 같은 타입스크립트 기반 개발의 확산에 발맞추려는 전략적 움직임으로 해석될 수 있습니다. `require()`의 ESM 지원은 기존 CommonJS 코드베이스를 가진 프로젝트가 ESM 기반 라이브러리를 더 쉽게 통합할 수 있게 하여, 마이그레이션 부담을 줄이고 생태계의 파편화를 완화하는 데 기여할 것입니다. 따라서 개발자는 점진적으로 ESM 기반의 코드 작성을 늘려나가고, `require()`와 `import`를 혼용하는 시나리오에 대비해야 합니다. 또한, TypeScript 사용자는 Node.js 코어에서 제공하는 TS 관련 유틸리티 및 오류 메시지를 활용하여 개발 효율성을 높일 수 있으며, 이는 Node.js 애플리케이션의 미래 지향적인 아키텍처 설계를 가능하게 합니다.

#### `package.json` 스크립트 실행 기능

새로운 실험적 기능으로 **`node --run <script-in-package-json>`** CLI 플래그를 사용하여 `package.json`에 정의된 스크립트를 직접 실행할 수 있게 되었습니다. 예를 들어, `node --run test`와 같이 `test` 명령어를 실행하는 것도 지원합니다. 이 기능은 `npm run` 또는 `yarn run`과 같은 패키지 매니저 명령어 없이도 Node.js 자체적으로 스크립트를 실행할 수 있게 하여, CI/CD 파이프라인이나 경량화된 환경에서 스크립트 실행을 간소화할 수 있습니다.

#### 스트림 기본 High Water Mark 증가

스트림의 기본 High Water Mark가 16KiB에서 **64KiB**로 증가했습니다. 이는 전반적인 성능 향상을 목표로 하지만, 메모리 사용량이 약간 증가할 수 있습니다. 메모리에 민감한 환경에서는 **`setDefaultHighWaterMark`**를 사용하여 값을 조정할 수 있습니다. 대부분의 스트림 기반 애플리케이션은 별도의 코드 변경 없이 성능 향상을 경험할 수 있으나, 메모리 제약이 심한 환경에서는 이 변경이 미치는 영향을 평가하고 필요시 `setDefaultHighWaterMark`를 명시적으로 설정하는 것이 권장됩니다.

#### 안정화된 Watch Mode Command Line

Node.js 19에서 실험적으로 도입되었던 **Watch Mode Command Line 옵션**(`--watch`, `--watch-path`, `--watch-preserve-output`)이 Node.js v22에서 안정화되었습니다. 이는 개발 중 파일 변경을 감지하여 애플리케이션을 자동으로 재시작하는 기능이 이제 프로덕션 환경에서도 안정적으로 사용될 수 있음을 의미하며, 개발 워크플로우의 효율성을 크게 향상시킵니다.

#### `node:fs` 모듈의 `glob` 및 `globSync` 함수

**`node:fs`** 모듈에 **`glob`** 및 **`globSync`** 함수가 새로 추가되어 패턴 매칭을 통해 파일 경로를 검색할 수 있게 되었습니다. 이로써 외부 라이브러리(`glob` npm 패키지 등)에 의존하지 않고도 파일 시스템에서 특정 패턴에 맞는 파일을 찾을 수 있게 되어, 코드의 의존성을 줄이고 빌트인 기능을 활용할 수 있습니다.

#### WebSocket 클라이언트 지원

`--experimental-websocket` 플래그 아래에서 **WebSocket 클라이언트**가 기본으로 지원됩니다. 이는 외부 의존성 없이 Node.js에서 WebSocket 클라이언트를 연결할 수 있게 하여, 웹소켓 기반의 실시간 통신 애플리케이션을 개발할 때 별도의 라이브러리 없이 Node.js 자체 기능만으로 클라이언트를 구현할 수 있는 기반이 마련됩니다.

#### `import.meta` 속성 및 Top-level WebAssembly (Wasm) 지원

**`import.meta`** 속성이 안정화되었고, **`package`** 타입 없이 **Top-level WebAssembly (Wasm)**가 지원됩니다. `import.meta`는 모듈에 대한 메타데이터(예: `import.meta.url`)에 접근할 수 있게 하여, ESM 환경에서 파일 경로 등을 동적으로 처리하는 데 유용합니다. Top-level Wasm 지원은 웹어셈블리 모듈을 Node.js 애플리케이션에 더 쉽게 통합할 수 있게 하여, 고성능 컴퓨팅이 필요한 작업을 Node.js 환경에서 직접 처리할 수 있는 가능성을 확장합니다.

#### `fs.FileHandle.readableWebStream` `autoClose` 옵션 및 `fs.Dir` 리소스 관리

**`fs.FileHandle.readableWebStream`**에 `autoClose` 옵션이 추가되어 스트림 종료 시 파일 디스크립터를 닫을지 여부를 명시적으로 제어할 수 있게 되었습니다. 또한, **`fs.Dir`**는 명시적 리소스 관리(`Symbol.asyncDispose` 또는 `.close()`)를 지원하여 디렉토리의 비동기 이터레이션 시 리소스 제어를 개선합니다. 이러한 변경은 파일 및 디렉토리 관련 작업에서 미묘한 리소스 누수를 방지하고, 리소스 관리를 더욱 명확하게 할 수 있어 특히 장시간 실행되는 서버 애플리케이션에서 중요합니다.

#### http2 진단 채널 및 권한 모델 변경

`http2`에 **`http2.server.stream.finish`** 진단 채널이 추가되어 HTTP/2 스트림 종료 시 관찰 가능성을 제공합니다. 이는 HTTP/2 트래픽의 모니터링, 로깅 및 디버깅을 위한 새로운 기회를 제공합니다. 또한, 권한 모델에서 엔트리포인트에 대한 **`allow-fs-read`**가 암묵적으로 허용됩니다. 이는 권한 제한 애플리케이션 실행을 더 원활하게 하면서도 보안을 유지하는 데 기여합니다. 그러나 `--permission` 플래그를 사용하는 개발자는 여전히 파일 시스템 접근 권한에 대한 명시적인 관리가 필요함을 인지해야 합니다.

#### `util.styleText()` 'none' 스타일 추가 및 기타 안정화된 API

**`util.styleText()`**에 `'none'` 스타일이 추가되어 터미널 스타일을 깔끔하게 제거할 수 있습니다. 이는 터미널 출력의 가독성을 높이거나 특정 스타일을 재정의할 때 유용합니다. 이 외에도 **`dirent.parentPath`**, **`filehandle.readableWebStream()`**, **`fs.openAsBlob()`**, **`node:readline/promises`**, **`readable.compose()`**, **`URL.createObjectURL()`**, **`Startup Snapshot API`** 등 다수의 실험적 API가 안정화되었습니다. 이러한 기능들이 이제 프로덕션 환경에서 안전하게 사용될 수 있음을 의미하며, 개발자는 이들을 활용하여 더욱 강력하고 효율적인 애플리케이션을 구축할 수 있습니다.

---

## 주요 보안 취약점 및 패치

2025년 상반기 Node.js v22 LTS는 여러 중요한 보안 취약점을 해결하기 위한 패치를 배포했습니다. 이들은 주로 서비스 거부(DoS) 공격, 권한 우회 및 정보 유출과 관련이 있으며, 개발자는 즉시 업데이트를 적용하여 시스템을 보호해야 합니다.

* **CVE-2025-23083: Worker 권한 우회 (High Severity)**
    `diagnostics_channel` 유틸리티를 통해 워커 스레드가 생성될 때 이벤트를 후킹할 수 있는데, 이 과정에서 내부 워커가 노출되어 악의적인 목적으로 해당 워커의 생성자를 가져와 재사용할 수 있는 취약점입니다. 이 취약점은 `--permission` 플래그를 사용하는 Node.js v20, v22, v23의 Permission Model 사용자에게 영향을 미칩니다. 워커 스레드를 사용하는 애플리케이션의 보안 경계를 무너뜨릴 수 있으므로, 워커 스레드 사용 시 특히 주의하고 최신 패치(v22.13.1 이상)를 적용해야 합니다.

* **CVE-2025-23084: Windows 환경 경로 탐색 (Medium Severity)**
    Windows 환경에서 `path.join` API를 사용하는 특정 Node.js 함수가 드라이브 이름을 특별하게 처리하지 않아, 상대 경로가 실제로는 루트 디렉토리를 참조하게 되는 경로 탐색 취약점입니다. 이 취약점은 Windows 환경에서 `path.join` API를 사용하는 Node.js v18, v20, v22, v23 사용자에게 영향을 미칩니다. 파일 시스템 경로를 다루는 모든 애플리케이션은 이 취약점에 노출될 수 있으므로, 최신 패치(v22.13.1 이상)를 적용하여 안전한 경로 처리를 보장해야 합니다.

* **CVE-2025-23085: HTTP/2 메모리 누수 (Medium Severity)**
    원격 피어가 GOAWAY 알림 없이 소켓을 갑자기 닫거나, nghttp2가 유효하지 않은 헤더를 감지하여 연결이 종료될 때 메모리 누수가 발생할 수 있는 취약점입니다. 이는 메모리 소비 증가 및 서비스 거부로 이어질 수 있습니다. 이 취약점은 Node.js v18, v20, v22, v23의 HTTP/2 서버 사용자에게 영향을 미칩니다. HTTP/2 프로토콜을 사용하는 서버 애플리케이션은 이 취약점으로 인해 비정상적인 메모리 증가를 겪을 수 있으므로, 최신 패치(v22.13.1 이상)를 적용하여 안정적인 서비스 운영을 유지해야 합니다.

* **CVE-2025-22150: Undici 난수성 부족 (High Severity)**
    **`undici`** 라이브러리(Node.js의 HTTP/1.1 클라이언트)가 `multipart/form-data` 요청의 경계(boundary)를 선택할 때 `Math.random()`을 사용하여 예측 가능한 값을 생성하는 취약점입니다. 공격자가 여러 생성된 값을 알 경우 `Math.random()`의 출력을 예측할 수 있어 요청을 조작할 수 있습니다. 이 취약점은 **`undici`**를 사용하는 Node.js v18, v20, v22, v23 애플리케이션에 영향을 미칩니다. 특히 공격자 제어 서버로 `multipart` 요청을 보내는 경우 데이터 조작 위험이 있습니다. `undici`가 Node.js 코어에 통합되어 사용되는 경우가 많으므로, 관련 패치(v22.13.1 이상)를 통해 `undici` 버전이 5.28.5, 6.21.1, 또는 7.2.3 이상으로 업데이트되었는지 확인해야 합니다.

* **CVE-2025-23166: 비동기 암호화 작업 오류 처리 (High Severity)**
    C++ 메서드 `SignTraits::DeriveBits()`가 백그라운드 스레드에서 사용자 제공 입력에 따라 `ThrowException()`을 잘못 호출하여 Node.js 프로세스를 충돌시킬 수 있는 취약점입니다. 이는 원격으로 Node.js 런타임을 충돌시킬 수 있는 DoS 공격으로 이어질 수 있습니다. 이 취약점은 Node.js v20, v22, v23, v24의 모든 활성 릴리스 라인에 영향을 미칩니다. 암호화 작업을 사용하는 애플리케이션은 이 취약점에 노출될 수 있으므로, 최신 패치(v22.15.1 이상)를 즉시 적용하여 서비스 안정성을 확보해야 합니다.

* **CVE-2025-23165: ReadFileUtf8 포인터 손상 (Low Severity)**
    Node.js의 내부 바인딩인 **`ReadFileUtf8`**에서 UTF-16 경로 버퍼가 할당된 후 파일 디스크립터가 설정될 때 덮어쓰여져 `uv_fs_s.file`의 포인터가 손상되는 메모리 누수 취약점입니다. 이는 호출 시마다 복구 불가능한 메모리 누수를 발생시켜 반복 사용 시 무한한 메모리 증가로 인한 서비스 거부를 초래할 수 있습니다. 이 취약점은 Windows 시스템에서 **`ReadFileUtf8`** API에 의존하는 Node.js v20 및 v22 릴리스 라인에 영향을 미칩니다. Windows 환경에서 파일 읽기 작업을 수행하는 애플리케이션은 최신 패치(v22.15.1 이상)를 적용하여 메모리 누수를 방지해야 합니다.

### 표 1: Node.js v22 LTS 2025년 상반기 핵심 보안 취약점

| CVE ID           | 심각도 | 설명                                                                                                | 코딩 구현 영향                                                                                                        |
| :--------------- | :----- | :-------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------- |
| CVE-2025-23083   | High   | `diagnostics_channel` 유틸리티를 통한 워커 권한 우회. 내부 워커의 생성자 재사용 가능.                 | `--permission` 플래그를 사용하는 Node.js v20, v22, v23의 Permission Model 사용자. 워커 스레드 사용 시 보안 경계 침해 위험. |
| CVE-2025-23084   | Medium | Windows 환경에서 `path.join` API 사용 시 드라이브 이름 처리 오류로 인한 경로 탐색.                      | Windows 환경에서 `path.join` API를 사용하는 Node.js v18, v20, v22, v23 사용자. 파일 시스템 경로 처리 시 주의 필요.    |
| CVE-2025-23085   | Medium | HTTP/2 서버에서 GOAWAY 알림 없는 소켓 종료 또는 유효하지 않은 헤더 감지 시 메모리 누수.                 | Node.js v18, v20, v22, v23의 HTTP/2 서버 사용자. 비정상적인 메모리 증가 및 서비스 거부 위험.                        |
| CVE-2025-22150   | High   | `undici` 라이브러리에서 `multipart/form-data` 요청 경계 선택 시 `Math.random()` 사용으로 인한 난수성 부족. | `undici`를 사용하는 Node.js v18, v20, v22, v23 애플리케이션. 공격자 제어 서버로 `multipart` 요청 시 데이터 조작 위험.  |
| CVE-2025-23166   | High   | 비동기 암호화 작업(`SignTraits::DeriveBits()`)에서 사용자 입력에 따른 오류 처리 미흡으로 인한 프로세스 충돌. | Node.js v20, v22, v23, v24의 모든 활성 릴리스 라인. 암호화 작업을 사용하는 애플리케이션의 서비스 안정성 위협.         |
| CVE-2025-23165   | Low    | Windows의 `ReadFileUtf8` 내부 바인딩에서 UTF-16 경로 버퍼 오버라이트로 인한 포인터 손상 및 메모리 누수.    | Windows 시스템에서 `ReadFileUtf8` API에 의존하는 Node.js v20 및 v22 릴리스 라인. 반복 사용 시 무한한 메모리 증가 및 서비스 거부 위험. |

### 보안 업데이트의 코딩 구현 영향 및 권고 사항

2025년 상반기 Node.js v22 LTS는 1월과 5월에 걸쳐 여러 고위험 및 중간 위험 보안 취약점을 해결하는 패치를 배포했습니다. 이들 취약점 중 상당수는 **`diagnostics_channel`** (Permission Model), **`path.join`** (Windows), **HTTP/2 서버**, **`undici`** (HTTP 클라이언트), **비동기 암호화 작업**, **`ReadFileUtf8`** (Windows 파일 시스템) 등 특정 API나 모듈 사용 시 발생하는 문제와 관련이 있습니다.

Node.js v22 LTS는 프로덕션 환경의 안정성을 위해 보안에 매우 중점을 두고 있으며, 특정 사용 패턴이나 플랫폼에서 발생할 수 있는 취약점을 적극적으로 해결하고 있습니다. 이러한 보안 패치는 단순한 버그 수정 이상의 의미를 가집니다. 해당 API를 사용하는 개발자에게 직접적인 코드 변경(예: `undici` 버전 업데이트 확인) 또는 최소한 최신 버전으로의 즉각적인 업데이트를 요구하기 때문입니다. 특히 Windows 환경 관련 취약점이 반복적으로 나타나는 것은, Node.js가 다양한 운영체제에서 안정적으로 동작하도록 지속적인 노력이 필요함을 시사합니다. 이는 개발자가 특정 플랫폼에 대한 테스트를 강화해야 함을 의미합니다.

개발팀은 Node.js LTS 버전의 보안 권고 사항을 주기적으로 확인하고, 새로운 보안 릴리스가 발표될 때마다 즉시 업데이트를 적용하는 자동화된 프로세스를 구축하는 것이 필수적입니다. 이는 잠재적인 서비스 중단이나 데이터 침해를 방지하고, 애플리케이션의 신뢰성을 유지하는 데 가장 중요한 요소입니다. 특히 특정 API를 사용하는 경우, 해당 API의 보안 취약점 패치 내용을 면밀히 검토하여 코드 레벨에서의 추가적인 방어 조치가 필요한지 판단해야 합니다.

---

## Deprecation 및 잠재적 호환성 문제

Node.js v22.17.0 릴리스에서는 몇 가지 사용 패턴에 대한 Deprecation이 발표되었습니다. 이들은 당장 애플리케이션을 중단시키지는 않지만, 향후 버전에서 제거될 수 있으므로 개발자는 미리 코드를 수정하여 대비해야 합니다.

* **`node:http` 클래스를 `new` 키워드 없이 인스턴스화하는 경우**
    **`IncomingMessage`** 또는 **`ServerResponse`**와 같은 **`node:http`** 클래스를 `new` 키워드 없이 생성하는 방식이 Deprecated 되었습니다. 이 변경은 API 사용의 명확성을 높이고 표준 JavaScript 동작과 일치시키기 위함입니다. 향후 버전에서는 경고 또는 오류가 발생할 수 있으므로, 모든 **`http`** 클래스 인스턴스화 시 `new` 키워드를 명시적으로 사용하는 것이 권장됩니다.

* **`node:child_process`에서 `options.shell = ""` 사용**
    **`child_process`** 모듈에서 `shell` 옵션에 빈 문자열(`""`)을 사용하는 것이 Deprecated 되었습니다. 이전에는 이 사용법이 정의되지 않은 동작으로 이어질 수 있었습니다. 이제는 `shell: true`를 사용하거나 명시적으로 셸 경로를 제공하여 구현 세부 사항에 대한 의존성을 피하도록 권장됩니다.

* **HTTP/2 우선순위 신호 (`stream.priority`)**
    HTTP/2 우선순위 API인 **`stream.priority`**가 Deprecated 되었습니다. 이는 실제 환경에서의 지원이 미흡하다는 판단에 따른 것입니다. 애플리케이션은 우선순위 힌트 사용을 피하도록 권장되며, 이 기능은 향후 버전에서 제거될 예정입니다. HTTP/2 스트림의 우선순위 로직에 의존하는 애플리케이션은 대안적인 부하 분산 또는 트래픽 관리 전략을 고려해야 합니다.

이러한 Deprecation은 Node.js가 더욱 명시적이고 예측 가능하며 견고한 API 디자인으로 진화하고 있음을 반영합니다. 비록 즉각적인 호환성 문제를 일으키지는 않지만, 이러한 변경 사항들은 향후 버전에서 잠재적인 호환성 문제를 야기할 수 있는 지점을 나타냅니다. 따라서 개발자는 이러한 Deprecation 사항들을 인지하고, 기술 부채를 피하고 장기적인 유지보수성을 보장하기 위해 점진적으로 코드 리팩토링을 계획해야 합니다. Node.js 프로젝트의 이러한 API 사용 패턴 진화에 발맞추어 코드베이스를 관리하는 것이 중요합니다.

---

## 결론 및 권고 사항

2025년 상반기 Node.js v22 LTS는 안정화된 LTS 버전으로서 보안, 성능, 개발자 경험이라는 세 가지 핵심 축을 중심으로 지속적인 발전을 이루었습니다. 이 기간 동안 Node.js v22는 여러 중요한 보안 취약점을 해결하고, 초기 실험적 기능들을 안정화하며, 개발 효율성을 높이는 새로운 API들을 도입했습니다.

주요 발견 사항은 다음과 같습니다.

* **강력한 보안 강화**: 2025년 상반기 동안 Node.js v22 LTS는 고위험 및 중간 위험의 여러 보안 취약점들을 신속하게 패치했습니다. 이는 Node.js 프로젝트가 LTS 버전의 보안 유지에 최우선 순위를 두고 있음을 명확히 보여줍니다. 특히 워커 스레드, 파일 시스템 경로 처리 (Windows), HTTP/2 서버, 그리고 내부 HTTP 클라이언트 라이브러리(`undici`)와 관련된 취약점들이 해결되어, 프로덕션 환경의 안정성이 크게 향상되었습니다.
* **실험적 기능의 성숙**: Node.js v22 초기 릴리스에서 실험적이었던 많은 기능들(예: `import.meta` 속성, Top-level WebAssembly, `fs.glob()`, `URL.createObjectURL()`, `Startup Snapshot API` 등)이 2025년 상반기 동안 안정화되었습니다. 이는 개발자들이 이 기능들을 프로덕션 환경에서 더욱 안심하고 사용할 수 있게 되었음을 의미하며, Node.js의 최신 기능을 활용하여 애플리케이션의 성능과 기능을 향상시킬 수 있는 기회를 제공합니다.
* **개발자 경험 및 성능 개선**: V8 JavaScript 엔진의 지속적인 업데이트와 Maglev 컴파일러의 기본 활성화는 Node.js 애플리케이션의 전반적인 성능을 향상시켰습니다. 또한, `node --run` 스크립트 실행 기능, 안정화된 Watch Mode, 스트림 High Water Mark 증가 등은 개발 워크플로우를 간소화하고 생산성을 높이는 데 기여했습니다.
* **API 사용 패턴의 진화**: 일부 API 사용 패턴(예: `new` 키워드 없는 `http` 클래스 인스턴스화, `options.shell = ""` 사용, HTTP/2 우선순위 신호)에 대한 Deprecation은 Node.js가 더욱 명확하고 일관된 API 디자인을 지향하고 있음을 보여줍니다. 이는 장기적으로 코드베이스의 유지보수성을 높이는 데 도움이 됩니다.

이러한 변경 사항들을 바탕으로, 개발팀에게 다음과 같은 권고 사항을 제시합니다.

* **최신 v22.x 버전으로 즉시 업데이트**: Node.js v22 LTS는 2025년 상반기 동안 여러 치명적인 보안 취약점을 해결하는 패치를 배포했습니다. 애플리케이션의 보안과 안정성을 위해 가능한 한 빨리 최신 v22.x 패치 버전으로 업데이트하는 것이 필수적입니다.
* **보안 권고 사항 및 릴리스 노트 지속적 모니터링**: Node.js 프로젝트는 보안 취약점 및 주요 변경 사항에 대한 정보를 정기적으로 발표합니다. `nodejs-sec` 메일링 리스트 구독 등을 통해 이러한 정보를 지속적으로 모니터링하고, 새로운 보안 릴리스가 발표될 때마다 즉시 대응할 수 있는 프로세스를 구축해야 합니다.
* **새롭게 안정화된 기능 적극 활용**: `fs.glob()`, `URL.createObjectURL()`, `Startup Snapshot API` 등 안정화된 새로운 API들을 검토하고, 이를 활용하여 애플리케이션의 성능을 최적화하거나 새로운 기능을 구현하는 방안을 모색해야 합니다. 특히 ESM과 CommonJS의 상호 운용성 개선 노력은 모듈 시스템 전환을 고려하는 프로젝트에 중요한 기회를 제공합니다.
* **Deprecated 패턴에 대한 코드 리팩토링 계획 수립**: Deprecated 된 API 사용 패턴은 현재는 작동하더라도 향후 버전에서 제거될 수 있습니다. 기술 부채를 최소화하고 미래의 업그레이드 부담을 줄이기 위해, Deprecated 된 패턴을 사용하는 코드를 식별하고 점진적으로 리팩토링할 계획을 수립하는 것이 중요합니다.
* **플랫폼별 테스트 강화**: Windows 환경에서 반복적으로 발견된 취약점들은 특정 운영체제 환경에서의 안정성 확보가 중요함을 시사합니다. 따라서 프로덕션 환경이 다양한 운영체제를 포함한다면, 플랫폼별 특성을 고려한 더욱 철저한 테스트 전략을 수립해야 합니다.
* **LTS 마이그레이션 전략 재검토**: Node.js v18과 같은 이전 LTS 버전의 EOL은 최신 LTS 버전(v22)으로의 전환이 더 이상 선택 사항이 아닌 필수임을 강조합니다. 장기적인 지원과 보안, 그리고 최신 기능 및 성능 이점을 확보하기 위해 Node.js v22 LTS로의 명확한 마이그레이션 전략을 수립하고 실행해야 합니다.

Node.js v22 LTS는 2025년 상반기 동안 개발자들에게 더욱 강력하고 안전하며 효율적인 런타임 환경을 제공하기 위한 중요한 발걸음을 내디뎠습니다. 이러한 변화를 이해하고 적극적으로 활용하는 것이 Node.js 기반 애플리케이션의 성공적인 운영과 지속적인 발전에 필수적입니다.
